<div *ngIf="products.length > 0; else noProducts">
    <ul class="list-group">
        <li *ngFor="let p of products" class="list-group-item">
            {{p.item.name}} ({{getCategoryName(p.item)}})

            <div class="float-right">
                <form class="form-inline">
                    <div class="form-group">
                        <label for="price" class="sr-only">Price</label>
                        <div class="input-group">
                            <input type="text" readonly class="form-control" id="price" [value]="p.item.price">
                            <div class="input-group-append">
                                <div class="input-group-text">€</div>
                            </div>
                        </div>
                    </div>

                    <div class="form-group mx-sm-3">
                        <label for="number-{{p.id}}" class="sr-only">NB</label>
                        <input type="number" min="1" [max]="p.item.availablePlaces" step="1" class="form-control" id="number-{{p.id}}" name="number-{{p.id}}" [(ngModel)]="p.number">
                    </div>

                    <button class="btn btn-danger" (click)="removeProduct(p)"><fa-icon [icon]="faTimes"></fa-icon></button>
                </form>
            </div>
        </li>
    </ul>

    <hr>

    <div class="row">
        <div class="col">
            <h4>Prix total = {{total}}€</h4>
            <ng-container [ngSwitch]="isAuthenticated()">
                <div *ngSwitchCase="false">
                    <button class="btn btn-primary btn-block" (click)="login()">Login</button>
                </div>
                <div *ngSwitchCase="true">
                    <button class="btn btn-success btn-block" (click)="payOrder()">Payer</button>
                </div>
            </ng-container>
        </div>
    </div>
</div>

<ng-template #noProducts>
    <div class="row">
        <div class="col text-center">
            <h3>Your cart is empty! Please add an event and come back!</h3>
        </div>
    </div>
</ng-template>
